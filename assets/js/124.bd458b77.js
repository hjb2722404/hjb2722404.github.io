(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{505:function(t,e,v){"use strict";v.r(e);var _=v(15),d=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"富文本编辑器开发系列-selection"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#富文本编辑器开发系列-selection"}},[t._v("#")]),t._v(" 富文本编辑器开发系列——"),v("code",[t._v("selection")])]),t._v(" "),v("p",[t._v("[TOC]")]),t._v(" "),v("h2",{attrs:{id:"selection简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#selection简介"}},[t._v("#")]),t._v(" Selection简介")]),t._v(" "),v("p",[v("code",[t._v("Selection")]),t._v("俗称"),v("code",[t._v("选区")]),t._v("，它代表浏览器页面中的文本选区。文本选区是由用户拖拽鼠标经过文字而产生，当然，如果页面内某块区域时可编辑的（"),v("code",[t._v("contenteditable")]),t._v("）, 选区也可以获取光标所在位置，此时并没有文本被选中，所以此时的选区被标记为闭合选区，即选区闭合于光标所在位置，选区开始位置和结束位置为同一个位置。")]),t._v(" "),v("h2",{attrs:{id:"原生的selection有以下属性"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原生的selection有以下属性"}},[t._v("#")]),t._v(" 原生的selection有以下属性：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"right"}},[t._v("属性")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("anchorNode")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读，返回该选区起点所在的节点")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("anchorOffset")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读，返回一个数字，其表示的是选区起点在其所在节点中的位置偏移量，如果起点节点是文本节点，name返回的就是从该文字节点的第一个字开始，到被选中的第一个字之间的字数；如果起点节点是一个元素，则返回的就是在选区第一个节点之前的同级节点总数（这些节点都是起点节点的子节点）")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("focusNode")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读， 返回该选区终点所在的节点")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("focusOffset")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读，返回一个数组，其表示选区终点在终点所在节点的位置偏移量，如果终点节点是文本节点，那选区末尾被选中的第一个字，在该文本节点中时第几个字，就返回几，如果终点节点是元素，则返回选区末尾之后第一个节点之前的同级节点数。")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("isCollapsed")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读，布尔值，选区是否为闭合选区")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"right"}},[v("code",[t._v("rangeCount")])]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("只读，返回该选区所包含的拖蓝（"),v("code",[t._v("range")]),t._v("）数量，除了"),v("code",[t._v("firefox")]),t._v("，其它 浏览器通常一个选区都只有一个拖蓝")])])])]),t._v(" "),v("h2",{attrs:{id:"原生selection有以下成员方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原生selection有以下成员方法"}},[t._v("#")]),t._v(" 原生selection有以下成员方法：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("方法名")]),t._v(" "),v("th",[t._v("参数说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("getRangeAt(index)")])]),t._v(" "),v("td",[t._v("返回选区包含的拖蓝的"),v("code",[t._v("引用")]),t._v("."),v("code",[t._v("index")]),t._v(", 拖蓝在选区所有拖蓝中的编号，必须小于"),v("code",[t._v("rangeCount")]),t._v("，否则会报错")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("collapse(parentNode,offset)")])]),t._v(" "),v("td",[t._v("闭合选区."),v("code",[t._v("parentNode")]),t._v(":光标落在的目标节点，"),v("code",[t._v("offset")]),t._v(" 落在节点的偏移量")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("extend(node,offset)")])]),t._v(" "),v("td",[t._v("将选区的焦点移动到一个特定位置."),v("code",[t._v("node")]),t._v(":焦点会被移动至此节点，"),v("code",[t._v("offset")]),t._v("：焦点偏移量，默认为0.")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("modify(alter,dir,gran)")])]),t._v(" "),v("td",[t._v("修改当前选区."),v("code",[t._v("alter")]),t._v(":改变类型,传入"),v("code",[t._v('"move"')]),t._v("移动光标位置，传入"),v("code",[t._v('"extend"')]),t._v("扩展当前选区。"),v("code",[t._v("dir")]),t._v("：调整选区的方向，传入"),v("code",[t._v('"forward"')]),t._v("或"),v("code",[t._v('"backward"')]),t._v("来根据选区内容语言的书写方向来调整，或者使用"),v("code",[t._v('"left"')]),t._v("或"),v("code",[t._v('"right"')]),t._v("来指明调整方向。"),v("code",[t._v("gran")]),t._v(": 调整的颗粒度，可选值有"),v("code",[t._v('"character"、"word"、"sentence"、"line"、"paragraph"、"lineboundary"、"sentenceboundary"、"paragraphboundary"、"documentboundary"')])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("collapseToStart()")])]),t._v(" "),v("td",[t._v("将当前的选区折叠到起始点")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("collapseToEnd()")])]),t._v(" "),v("td",[t._v("将当前的选区折叠到最末尾的一个节点")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("addRnge(range)")])]),t._v(" "),v("td",[t._v("向选区中加入一个拖蓝."),v("code",[t._v("range")]),t._v("要被加入的拖蓝")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("removeRange(range)")])]),t._v(" "),v("td",[t._v("从选区中移除一个拖蓝."),v("code",[t._v("range")]),t._v("要移除的拖蓝")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("removeAllRanges()")])]),t._v(" "),v("td",[t._v("将所有的拖蓝都从选区中移除")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("deleteFromDocument()")])]),t._v(" "),v("td",[t._v("从页面中删除选区中的内容")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("selectionLanguageChange()")])]),t._v(" "),v("td",[t._v("当键盘的朝向发生改变后修改指针的"),v("code",[t._v("bidi优先级")]),t._v("(与"),v("code",[t._v("unicode")]),t._v("所涉及的语言方向有关)")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("toString()")])]),t._v(" "),v("td",[t._v("返回当前选区的纯文本内容")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("containsNode(node,bool)")])]),t._v(" "),v("td",[t._v("判断某一个节点是否为当前选区的一部分. "),v("code",[t._v("node")]),t._v("目标节点，"),v("code",[t._v("bool")]),t._v("是否完全包含")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("selectAllChildren(parentNode)")])]),t._v(" "),v("td",[t._v("将某一指定节点的子节点框入选区."),v("code",[t._v("parentNode")]),t._v("，要选中的所  有节点的父节点")])])])]),t._v(" "),v("h2",{attrs:{id:"api详解"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#api详解"}},[t._v("#")]),t._v(" API详解")]),t._v(" "),v("p",[t._v("请参阅 [[富文本编辑器开发系列5——浏览器选区SelectionAPI探究|浏览器SelectionAPI探究]]")])])}),[],!1,null,null,null);e.default=d.exports}}]);