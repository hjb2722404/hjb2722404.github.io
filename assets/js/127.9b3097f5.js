(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{539:function(e,t,a){"use strict";a.r(t);var r=a(15),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"富文本编辑器开发系列-range-api-探究"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#富文本编辑器开发系列-range-api-探究"}},[e._v("#")]),e._v(" 富文本编辑器开发系列——"),a("code",[e._v("Range API")]),e._v(" 探究")]),e._v(" "),a("p",[e._v("[TOC]")]),e._v(" "),a("h2",{attrs:{id:"基本属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本属性"}},[e._v("#")]),e._v(" 基本属性")]),e._v(" "),a("p",[e._v("为了方便观察"),a("code",[e._v("range")]),e._v("的基本属性，我们写以下测试代码：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154455.png",alt:"image-20200831214251078"}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://jshare.com.cn/selection/BtGfG1",target:"_blank",rel:"noopener noreferrer"}},[e._v("在线测试"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("我们选中一段文本，然后看页面的输出和控制台的输出。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154526.png",alt:"image-20200831214635853"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154538.png",alt:"image-20200831214813395"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hjb2722404/myimg/master/20200910092643.png",alt:"image-20200831214844785"}})]),e._v(" "),a("p",[e._v("我们观察到它的几个属性：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("collapsed")]),e._v(": 是否闭合，即当前选区是否是一个光标，只有开始节点与结束节点相同，并且开始偏移量与结束偏移量相同时才是"),a("code",[e._v("true")]),e._v("，此处未闭合，所以是"),a("code",[e._v("false")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("commonAncestorContainer")]),e._v("：返回包含开始节点与结束节点的最深一级的节点（根节点），此处是设置了"),a("code",[e._v("onclick")]),e._v("属性的"),a("code",[e._v("div")]),e._v("节点，注意，这里最深一级是指可编辑区域所包含的节点中的最深一级（并且不包含设置了"),a("code",[e._v("contenteditable")]),e._v("属性为"),a("code",[e._v("true")]),e._v("的节点本身。）")]),e._v(" "),a("li",[a("code",[e._v("endContainer")]),e._v(":  结束节点，拖蓝结束点所在的"),a("code",[e._v("DOM")]),e._v(" 节点，此处是多行文本所在的文本节点，注意，是文本节点，而不是包含它的"),a("code",[e._v("p")]),e._v(" 节点。")]),e._v(" "),a("li",[a("code",[e._v("endOffset")]),e._v(" : 结束偏移量，即从结束节点的开始位置数起，到拖蓝结束位置所经过的字数。如果结束节点是一个包含子元素的"),a("code",[e._v("DOM")]),e._v("元素，则代表从该节点的第一个节点到拖蓝结束位置所在的节点所经过的节点数。")]),e._v(" "),a("li",[a("code",[e._v("startContainer")]),e._v("：开始节点，拖蓝的起点所在的"),a("code",[e._v("DOM")]),e._v("节点，此处是"),a("code",[e._v("id")]),e._v("为"),a("code",[e._v("first")]),e._v("的"),a("code",[e._v("p")]),e._v("节点所包裹的文本节点，但又不包含其中"),a("code",[e._v("id")]),e._v("为"),a("code",[e._v("third")]),e._v("的"),a("code",[e._v("span")]),e._v("节点。")]),e._v(" "),a("li",[a("code",[e._v("startOffset")]),e._v("：开始偏移量，即从开始节点的开始位置数起，到拖蓝开始位置所经过的字数。如果开始节点是一个包含子元素的"),a("code",[e._v("DOM")]),e._v("元素，则代表从该节点第一个节点到拖蓝开始位置所在的节点所经过的节点数。")])]),e._v(" "),a("p",[e._v("对于"),a("code",[e._v("startContainer")]),e._v(" 中的情况，我们可以再做一个实验来验证：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154547.png",alt:"image-20200831220732554"}})]),e._v(" "),a("p",[e._v("可以看到，这里开始节点是"),a("code",[e._v("这里是另一段普通的")]),e._v(" 文本节点，而结束节点是"),a("code",[e._v("文字内容啊")]),e._v(" 文本节点，虽然它们都在同一"),a("code",[e._v("p")]),e._v("节点中，但因为有"),a("code",[e._v("span")]),e._v(" 节点的分割，它俩分别是独立的文本节点了。")]),e._v(" "),a("h2",{attrs:{id:"成员方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#成员方法"}},[e._v("#")]),e._v(" 成员方法")]),e._v(" "),a("h3",{attrs:{id:"setstart-startnode-startoffset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstart-startnode-startoffset"}},[e._v("#")]),e._v(" "),a("code",[e._v("setStart(startNode, startOffset)")])]),e._v(" "),a("p",[e._v("设置拖蓝的起点,"),a("code",[e._v("startNode")]),e._v("：开始节点，"),a("code",[e._v("startOffset")]),e._v(": 起点相对于开始节点开始位置的偏移量")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154559.gif",alt:"rangeApi_setStart"}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetstart-h5ye5?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setStart"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetstart-h5ye5?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setStart",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"setend-endnode-endoffset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setend-endnode-endoffset"}},[e._v("#")]),e._v(" "),a("code",[e._v("setEnd(endNode, endOffset)")])]),e._v(" "),a("p",[e._v("设置拖蓝的终点，"),a("code",[e._v("endNode")]),e._v(":结束节点， "),a("code",[e._v("endOffset")]),e._v(": 终点相对于结束节点开始位置的偏移量。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154656.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetstartbefore-xye5b?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setStartBefore"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetstartbefore-xye5b?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setStartBefore",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"setstartbefore-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstartbefore-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("setStartBefore(referenceNode)")])]),e._v(" "),a("p",[e._v("相对于另一个节点来设置拖蓝的开始位置，该拖蓝的开始节点与另一个节点的父节点是同一个，开始节点在另一个节点之前")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154840.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetstartbefore-ck81v?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setStartBefore"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetstartbefore-ck81v?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setStartBefore",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"setstartafter-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstartafter-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("setStartAfter(referenceNode)")])]),e._v(" "),a("p",[e._v("相对于另一个节点来设置拖蓝的开始位置，该拖蓝的开始节点与另一个节点的父节点是同一个，开始节点在另一个节点之后.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154901.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetstartafter-jw701?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setStartAfter"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetstartafter-jw701?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setStartAfter",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"setendbefore-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setendbefore-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("setEndBefore(referenceNode)")])]),e._v(" "),a("p",[e._v("相对于另一个节点来设置拖蓝的结束位置，该拖蓝的结束节点与另一个节点的父节点是同一个，结束节点在另一个节点之前.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154922.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetendbefore-qtn4x?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setEndBefore"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://jshare.com.cn/selection/4PGffs",target:"_blank",rel:"noopener noreferrer"}},[e._v("在线测试"),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetendbefore-qtn4x?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setEndBefore",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"setendafter-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setendafter-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("setEndAfter(referenceNode)")])]),e._v(" "),a("p",[e._v("相对于另一个节点来设置拖蓝的结束位置，该拖蓝的结束节点与另一个节点的父节点是同一个，结束节点在另一个节点之后.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154942.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisetendafter-ngxx8?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_setEndAfter"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisetendafter-ngxx8?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_setEndAfter",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"seelctnode-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seelctnode-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("seelctNode(referenceNode)")])]),e._v(" "),a("p",[e._v("将拖蓝设置为包含整个节点及其内容， 拖蓝的起始和结束节点的父节点与传入节点（"),a("code",[e._v("referenceNode")]),e._v("）的父节点相同。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210154959.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapiselectnode-uiipq?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_selectNode"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapiselectnode-uiipq?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_selectNode",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"selectnodecontents-referencenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#selectnodecontents-referencenode"}},[e._v("#")]),e._v(" "),a("code",[e._v("selectNodeContents(referenceNode)")])]),e._v(" "),a("p",[e._v("设置拖蓝，使其包含传入节点的内容，拖蓝的起始和结束节点的父节点即为传入的节点。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155013.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapiselectnodecontents-1rru5?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_selectNodeContents"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapiselectnodecontents-1rru5?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_selectNodeContents",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"collapse-tostart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#collapse-tostart"}},[e._v("#")]),e._v(" "),a("code",[e._v("collapse(toStart)")])]),e._v(" "),a("p",[e._v("闭合拖蓝。"),a("code",[e._v("toStart")]),e._v(": 闭合方向，"),a("code",[e._v("true")]),e._v("向起点闭合，"),a("code",[e._v("false")]),e._v("向终点闭合。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155024.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapicollapse-5qvgs?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_collapse"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapicollapse-5qvgs?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_collapse",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"clonecontents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clonecontents"}},[e._v("#")]),e._v(" "),a("code",[e._v("cloneContents()")])]),e._v(" "),a("p",[e._v("返回包含拖蓝中所有节点的文档片段")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155040.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapiclonecontents-7orr6?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_cloneContents"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapiclonecontents-7orr6?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_cloneContents",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"deletecontents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deletecontents"}},[e._v("#")]),e._v(" "),a("code",[e._v("deleteContents()")])]),e._v(" "),a("p",[e._v("从文档中移除拖蓝包含的内容")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155057.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapideletecontents-forked-ccil7?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_deleteContents (forked)"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapideletecontents-forked-ccil7?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_deleteContents (forked)",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"extractcontents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extractcontents"}},[e._v("#")]),e._v(" "),a("code",[e._v("extractContents()")])]),e._v(" "),a("p",[e._v("把拖蓝的内容从文档树移动到一个文档片段中，返回该文档片段")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155109.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapiextractcontents-zk6q6?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_extractContents"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapiextractcontents-zk6q6?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_extractContents",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"insertnode-newnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#insertnode-newnode"}},[e._v("#")]),e._v(" "),a("code",[e._v("insertNode(newNode)")])]),e._v(" "),a("p",[e._v("在拖蓝的起始位置插入一个新的节点，如果将新节点添加到一个文本节点，则该文本节点在插入点处被拆分，插入发生在两个文本节点之间；如果新节点是一个文档片段，则插入文档片段的子节点。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155128.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapiinsertnode-8fps2?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_insertNode"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapiinsertnode-8fps2?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_insertNode",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"surroundcontents-newparent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#surroundcontents-newparent"}},[e._v("#")]),e._v(" "),a("code",[e._v("surroundContents(newParent)")])]),e._v(" "),a("p",[e._v("将拖蓝的内容移动到一个新的节点，并将新节点放到这个范围的起始处。它会从DOM中删除新节点内容。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/hjb2722404/tuchuang/raw/master/img/20201210155200.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapisurroundcontents-6vo9d?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_surroundContents"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapisurroundcontents-6vo9d?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_surroundContents",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),e._v(" "),a("h3",{attrs:{id:"compareboundarypoints-how-sourcerange"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compareboundarypoints-how-sourcerange"}},[e._v("#")]),e._v(" "),a("code",[e._v("compareBoundaryPoints(how, sourceRange)")])]),e._v(" "),a("p",[e._v("比较两个拖蓝的端点。 "),a("code",[e._v("how")]),e._v("：指定如何比较，参见本表下方"),a("code",[e._v("how")]),e._v("部分。"),a("code",[e._v("sourceRange")]),e._v(" : 要与之比较的拖蓝，返回一个数字，"),a("code",[e._v("-1/0/1")]),e._v("中的一个，表示本拖蓝的指定端点在源拖蓝的指定端点前面，相同位置还是后面。")]),e._v(" "),a("h4",{attrs:{id:"how"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how"}},[e._v("#")]),e._v(" "),a("code",[e._v("how")])]),e._v(" "),a("p",[e._v("指定如何比较，有四个可选值：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Range.END_TO_END")]),e._v(":  比较源拖蓝的终点与本拖蓝的终点")]),e._v(" "),a("li",[a("code",[e._v("Range.END_TO_START")]),e._v(": 比较源拖蓝的终点与本拖蓝的起点")]),e._v(" "),a("li",[a("code",[e._v("Range.START_TO_END")]),e._v(": 比较源拖蓝的起点与本拖蓝的终点")]),e._v(" "),a("li",[a("code",[e._v("Range.START_TO_START")]),e._v(": 比较源拖蓝的起点与本拖蓝的起点")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hjb2722404/myimg/master/20200910092954.gif",alt:""}})]),e._v(" "),a("p",[a("a",{attrs:{href:"https://codesandbox.io/s/rangeapicompareboundarypoints-71bx7?fontsize=14&hidenavigation=1&theme=dark",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit rangeAPI_compareBoundaryPoints"}}),a("OutboundLink")],1)]),e._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/rangeapicompareboundarypoints-71bx7?fontsize=14&hidenavigation=1&theme=dark",title:"rangeAPI_compareBoundaryPoints",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}})])}),[],!1,null,null,null);t.default=o.exports}}]);